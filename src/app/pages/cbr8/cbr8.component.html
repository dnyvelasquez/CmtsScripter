<div class="container">
  <mat-card>
    <mat-card-title>Cisco CBR8</mat-card-title>
    <!--<mat-card-subtitle>Start</mat-card-subtitle>-->

    <!--Templates toolbar-->
    <mat-toolbar>
      <span>Templates:</span>
      <mat-radio-group aria-label="Select an option">
        <mat-radio-button value="1" checked="true">No template</mat-radio-button>
        <mat-radio-button value="2">New interface</mat-radio-button>
      </mat-radio-group>    
    </mat-toolbar>
    <!--interface Cable-->
    <div class="div__interface">
      <strong>
        <span>Interface Cable</span>
        <mat-form-field appearance="fill" class="interface">
          <mat-select disableRipple #iF value="" (valueChange)="interF = iF.value" value>
            <mat-option [value]="interFace" *ngFor="let interFace of interFaces">
              <span id="sel">{{ interFace }}</span>
            </mat-option>
          </mat-select>
        </mat-form-field>
        <span>/0/</span>
        <mat-form-field appearance="fill" class="interface">
          <mat-select disableRipple #sl value="" (valueChange)="slt = sl.value">
            <mat-option [value]="slot" *ngFor="let slot of slots">{{ slot }}</mat-option>
          </mat-select>
        </mat-form-field>
      </strong>
    </div>
    <!--interface Cable attributes-->
    <mat-accordion>
      <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
        <mat-expansion-panel-header>
          <mat-panel-title>
            Interface Cable attributes
          </mat-panel-title>
          <mat-panel-description>
            Click to {{panelOpenState ? 'close' : 'open'}}
          </mat-panel-description>
        </mat-expansion-panel-header>
        <!--Description-->
        <div class="div__line__pri">
          <mat-checkbox #descUpdate color="primary">description</mat-checkbox>&nbsp;
          <input type="text" #descText [disabled]="descNo.checked">&nbsp;
          <mat-checkbox #descNo (change)="descNo.checked ? descText.value = '' : false">No</mat-checkbox>
        </div>
        <!--Load-interval-->
        <div class="div__line__pri">
          <mat-checkbox #loadUpdate color="primary">load-interval</mat-checkbox>&nbsp;     
          <input type="text" #loadText [value]="30" class="short__input">
        </div>
        <!--Downstream channels-->
        <app-down-stream [interF]="iF.value" [slt]="sl.value" [pos]=100></app-down-stream>
        <!--Upstream channels-->
        <app-up-stream [interF]="iF.value" [slt]="sl.value*2" [us]=0 [usCh]=0 [pos]=200></app-up-stream>
        <app-up-stream [interF]="iF.value" [slt]="sl.value*2+1" [us]=5 [usCh]=0 [pos]=300></app-up-stream>
        <!--Power adjust-->
        <div class="div__line__pri">
          <mat-checkbox #pa color="primary" (change)="powerAdjust(pa.checked)"><strong>Setting power-adjust?</strong> (yes)</mat-checkbox>
        </div>
        <div class="div__line__pri" *ngIf="pa.checked">
          <div *ngFor="let upStream of upStreams">
            <mat-checkbox #pa1 color="primary" (change)="pa1.checked ? inputPowerAdjust(upStream, paText.value) : false">
                cable upstream {{upStream}} power-adjust continue
            </mat-checkbox>&nbsp;
            <input type="text" #paText class="short__input" value="6">&nbsp;
          </div>
        </div>
        <!--Balance scheduling-->
        <div class="div__line__pri">
          <mat-checkbox #schUpdate color="primary">
              cable upstream balance-scheduling
          </mat-checkbox>&nbsp;
          <mat-checkbox #schNo>No</mat-checkbox>&nbsp;
        </div>
        <!--Bonding group-->
        <app-bonding-group [pos]=600></app-bonding-group>
        <!--cable bundle-->
        <div class="div__line__pri">
          <mat-checkbox #bundle color="primary">cable bundle</mat-checkbox>&nbsp;
          <input type="text" #bundleText value="2" class="short__input">&nbsp;
          <mat-checkbox #bundleNo>No</mat-checkbox>
        </div>
        <!--dynamic-secret-->
        <div class="div__line__pri">
          <mat-checkbox color="primary" #secret>cable dynamic-secret</mat-checkbox>&nbsp;
          <input type="text" #secretText value="reject" class="midd__input">&nbsp;
          <mat-checkbox #secretNo (change)="secretNo.checked ? secretText.value = '' : false">No</mat-checkbox>
        </div>
        <!--enable-trap-->
        <div class="div__line__pri">
          <mat-checkbox color="primary" #trap>cable enable-trap</mat-checkbox>&nbsp;
          <input type="text" #trapText value="cmonoff-notification" class="middplus__input">&nbsp;
          <mat-checkbox #trapNo (change)="!trapNo.checked ? trapText.value = '' : false"> No</mat-checkbox>
        </div>
        <!--trap-interval-->
        <div class="div__line__pri">
          <mat-checkbox color="primary" #trapi>cable enable-trap cmonoff-interval</mat-checkbox>&nbsp;
          <input type="text" #trapiText value="1200" class="midd__input">&nbsp;
          <mat-checkbox #trapiNo (change)="!trapiNo.checked ? trapiText.value = '' : false">No</mat-checkbox>
        </div>
        <!--registration-timeout-->
        <div class="div__line__pri">
          <mat-checkbox #timeout color="primary">cable registration-timeout</mat-checkbox>&nbsp;
          <input type="text" #timeoutText value="2" class="short__input">&nbsp;
          <mat-checkbox #timeoutNo (change)="!timeoutNo.checked ? timeoutText.value = '' : false">No</mat-checkbox>
        </div>
        <!--privacy mandatory-->
        <div class="div__line__pri">
          <mat-checkbox #privacy color="primary">cable privacy mandatory</mat-checkbox>&nbsp;
          <mat-checkbox #privacyNo>No </mat-checkbox>
        </div>
        <!--bpi-plus-policy-->
        <div class="div__line__pri">
          <mat-checkbox #bpi color="primary">cable privacy bpi-plus-policy</mat-checkbox>&nbsp;
          <input type="text" #bpiText value="capable-enforcement" class="middplus__input">&nbsp;
          <mat-checkbox #bpiNo (change)="!bpiNo.checked ? bpiText.value = '' : false">No</mat-checkbox>
        </div>
        <!--hold-queue in-->
        <div class="div__line__pri">  
          <mat-checkbox #holdIn color="primary">hold-queue
            <input type="text" #holdInText value="2048" class="midd__input"> in
          </mat-checkbox>&nbsp;
          <mat-checkbox #holdInNo (change)="!holdInNo.checked ? holdInText.value = '' : false">No</mat-checkbox>
        </div>
        <!--hold-queue out-->
        <div class="div__line__pri">
          <mat-checkbox #holdOut color="primary">hold-queue
            <input type="text" #holdOutText value="2048" class="midd__input"> out
          </mat-checkbox>&nbsp;
          <mat-checkbox #holdOutNo (change)="!holdOutNo.checked ? holdOutText.value = '' : false">No</mat-checkbox>
        </div>
        <!--shutdown-->
        <div class="div__line__pri">
          <mat-checkbox #shut color="primary">shutdown</mat-checkbox>&nbsp;
          <mat-checkbox #shutNo>No</mat-checkbox>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
    <br>
    <!--Interface Wideband-Cable-->
    <mat-accordion>
      <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <strong>
              <span>Interfaces Wideband-Cable</span>
            </strong>
          </mat-panel-title>
          <mat-panel-description>
            Click to {{panelOpenState ? 'close' : 'open'}}
          </mat-panel-description>
        </mat-expansion-panel-header>
        <app-wide-band [interF]="iF.value" [slt]="sl.value" [pos]="1000" [description]="descText.value"></app-wide-band>
      </mat-expansion-panel>
    </mat-accordion>
    <br>
    <!--controller Integrated-Cable-->
    <mat-accordion>
      <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <strong>
              <span>Controller Integrated-Cable</span>
            </strong>
          </mat-panel-title>
          <mat-panel-description>
            Click to {{panelOpenState ? 'close' : 'open'}}
          </mat-panel-description>
        </mat-expansion-panel-header>
        <app-integrated-cable [interF]="iF.value" [slt]="sl.value" [pos]="1100" [description]="descText.value"></app-integrated-cable>
      </mat-expansion-panel>
    </mat-accordion>
    <br>
    <!--controllers Upstream-Cable A-->
    <mat-accordion>
      <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <strong>
              <span>Controllers Upstream-Cable A</span>
            </strong>
          </mat-panel-title>
          <mat-panel-description>
            Click to {{panelOpenState ? 'close' : 'open'}}
          </mat-panel-description>
        </mat-expansion-panel-header>
        <app-upstream-cable [interF]="iF.value" [slt]="sl.value*2" [description]="descText.value" [pos]="1200"></app-upstream-cable>
      </mat-expansion-panel>
    </mat-accordion>
    <br>
    <!--controllers Upstream-Cable B-->
    <mat-accordion>
      <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <strong>
              <span>Controllers Upstream-Cable B</span>
            </strong>
          </mat-panel-title>
          <mat-panel-description>
            Click to {{panelOpenState ? 'close' : 'open'}}
          </mat-panel-description>
        </mat-expansion-panel-header>
        <app-upstream-cable [interF]="iF.value" [slt]="sl.value*2+1" [description]="descText.value" [pos]="1300"></app-upstream-cable>
      </mat-expansion-panel>
    </mat-accordion>
    <br>
    <!--Generate script-->
    <mat-card-actions>
      <button mat-raised-button id="btn" color="primary" 
        (click)="inputCommand('interface Cable' + interF + '/0/' + slt, 0);
          descUpdate.checked ? !descNo.checked 
            ? inputCommand(' description ' + descText.value, 1) : inputCommand(' no description', 1) 
            : inputCommand('', 1);
          loadUpdate.checked 
            ? inputCommand(' load-interval ' + loadText.value, 2) 
            : inputCommand('', 2);
          schUpdate.checked ? !schNo.checked 
            ? inputCommand(' cable upstream balance-scheduling', 500) : inputCommand(' no cable upstream balance-scheduling', 500) 
            : inputCommand('', 500);
          bundle.checked ? !bundleNo.checked 
            ? inputCommand(' cable bundle ' + bundleText.value, 900) : inputCommand(' no cable bundle ' + bundleText.value, 900) 
            : inputCommand('', 900);
          secret.checked ? !secretNo.checked 
            ? inputCommand(' cable dynamic-secret ' + secretText.value, 901) : inputCommand(' no cable dynamic-secret', 901) 
            : inputCommand('', 901);
          trap.checked ? !trapNo.checked 
            ? inputCommand(' cable enable-trap ' + trapText.value, 902) : inputCommand(' no cable enable-trap', 902) 
            : inputCommand('', 902);
          trapi.checked ? !trapiNo.checked 
            ? inputCommand(' cable enable-trap cmonoff-interval ' + trapiText.value, 903) : inputCommand(' no cable enable-trap cmonoff-interval', 903) 
            : inputCommand('', 903);
          timeout.checked ? !timeoutNo.checked
            ? inputCommand(' cable registration-timeout ' + timeoutText.value, 904) : inputCommand(' no cable registration-timeout', 904) 
            : inputCommand('', 904);
          privacy.checked ? !privacyNo.checked
            ? inputCommand(' cable privacy mandatory' , 905) : inputCommand(' no cable privacy mandatory', 905) 
            : inputCommand('', 905);
          bpi.checked ? !bpiNo.checked 
            ? inputCommand(' cable privacy bpi-plus-policy ' + bpiText.value, 906) : inputCommand(' no cable privacy bpi-plus-policy', 906) 
            : inputCommand('', 906);
          holdIn.checked ? !holdInNo.checked 
            ? inputCommand(' cable privacy mandatory ' + holdInText.value + ' in', 907) : inputCommand(' no cable privacy mandatory in', 907)
            : inputCommand('', 907);
          holdOut.checked ? !holdOutNo.checked 
            ? inputCommand(' cable privacy mandatory ' + holdOutText.value + ' out', 908) : inputCommand(' no cable privacy mandatory out', 908)
            : inputCommand('', 908);
          shut.checked ? !shutNo.checked 
            ? inputCommand(' shutdown', 909) : inputCommand(' no shutdown', 909)
            : inputCommand('', 909);


          showScript = true;
          
          getScript()">
        Generate script
      </button>
      <div class="div__line">
      <textarea id="script" *ngIf="showScript">{{script}}</textarea>
    </div>
    </mat-card-actions>
  </mat-card>
</div>
